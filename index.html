<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="W-Synth">
    <meta property="og:description"
          content="Proyecto de sintetizador desarrollado en HTML, CSS, JavaScript y la Web Audio API.">
    <meta property="og:image"
          content="https://jusrecondo.github.io/w-synth/img/sinte.png">
    <meta property="og:url"
          content="https://jusrecondo.github.io/w-synth-mobile/">
    <meta property="og:type" content="website">

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <link rel="stylesheet" href="css/styles.css">
    
    <title>W-Synth</title>

</head>
<body>
    <main>
        <section id="master">
            <article id="master-gain">
                <h1>W-Synth</h1>
                <button id="create-audioctx-btn">
                    0N - OFF
                </button>
                <label>
                    Master gain
                    <input id="master-gain-fader" class="gain-fader" type="range" min="0" max="0.5" step="0.01" value="0" >
                    <span>0.00</span>
                </label>

                <button id="activate-eg-btn">
                    Envelope ON - OFF
                </button>
            </article>

            <article id="delay">
                <h2>Delay</h2>
                <label for="delay-time">Time: </label>
                <input type="range" id="delay-time" value="0" min="0" max="5" step="0.01" disabled>
                <span>0</span>
                <label for="feedback">Feedback: </label>
                <input type="range" id="delay-feedback" value="0" min="0" max="0.8" step="0.01" disabled>
                <span>0</span>
            </article>

            <article id="envelope" class="disabled">
                <h2>Envelope</h2>

                </label>
                <label>Attack
                    <input type="range" id="attack" min="0.01" max="4" step="0.01" value="0.01"> 
                    <span>0</span>
                </label> 
                <label>Decay
                    <input type="range" id="decay" min="0.05" max="4" step="0.01" value="0.05">
                    <span>0</span>
                </label>
                <label>Sustain
                    <input type="range" id="sustain" min="0" max="1" step="0.01" value="0">
                    <span>0</span>
                </label>
                    <label>Release
                    <input type="range" id="release" min="0.01" max="3" step="0.1" value="0.01">
                    <span>0</span>
                </label>
            </article> 

            <article id="filter">
                <h2>Filter</h2>

                <label>Type
                    <select name="filter-type" id="filter-type">
                        <option value="lowpass">LP</option>
                        <option value="bandpass">BP</option>
                        <option value="highpass">HP</option>
                    </select>
                </label>
                <label>Cut Off
                     <input id="filter-cutoff" type="range" value="500" min="100" max="12000" step="1" disabled>
                     <span>500 Hz</span>
                </label>

                <label>Resonance
                    <input id="filter-res" type="range" value="0" min="1" max="30" step="0.01" disabled>
                    <span>0</span>
                </label>
            </article>

            <article id="lfo">
                <h2>LFO</h2>

                <section id="lfo-config">
                    <label>
                        <select id="lfo-wave">
                            <option value="sine">sine</option>
                            <option value="triangle">triangle</option>
                            <option value="square">square</option>
                            <option value="sawtooth">sawtooth</option>
                        </select>   
                    </label>
                    <label>
                        <input type="checkbox" id="mod-filter" name="lfo-mod" value="filter">Filter
                    </label>
                    <label>
                        <input type="checkbox" id="mod-osc1" name="lfo-mod" value="osc1">OSC I 
                    </label>
                    <label>
                        <input type="checkbox" id="mod-osc2" name="lfo-mod" value="osc2">OSC II
                    </label> 
                    <label>
                        <input type="checkbox" id="mod-delay-time" name="lfo-mod" value="delay-time">Delay
                    </label> 
                </section>
                <label>Rate
                    <input id="lfo-rate" type="range" value="0" min="0" max="15" step="0.01" disabled>
                    <span>0</span>
                </label>   
                <label>Amount
                    <input id="lfo-amt" type="range" value="0" min="0" max="1000" step="0.01" disabled> 
                    <span>0</span> 
                </label>                 
            </article>
        </section>  

        <section id="oscillators">
            <article id="osc1">
                <h2>OSC I</h2>
                <label>Wave: 
                    <select class="osc-wave">
                        <option value="sine">sine</option>
                        <option value="triangle">triangle</option>
                        <option value="square">square</option>
                        <option value="sawtooth">sawtooth</option>
                    </select>  
                </label>
                <label>
                    Gain
                    <input class="gain-fader" type="range" min="0" max="0.5" step="0.01" value="0" disabled>
                    <span>0.00</span>
                </label>
                <label>
                    Freq
                    <input class="freq-fader" type="range" min="40" max="1000" step="0.1" value="200" disabled>
                    <span>200 Hz</span>
                </label>
                <label>Transpose
                    <input class="transpose-fader" type="range" min="-12" max="12" step="1" value="0" disabled>
                    <span>0</span>
                </label>
            </article>

            <article id="osc2">
                <h2>OSC II</h2>
                <label>Wave:
                    <select class="osc-wave">
                        <option value="sine">sine</option>
                        <option value="triangle">triangle</option>
                        <option value="square">square</option>
                        <option value="sawtooth">sawtooth</option>
                    </select>  
                </label>
                <label>
                    Gain
                    <input class="gain-fader" type="range" min="0" max="0.5" step="0.01" value="0" disabled>
                    <span>0.00</span>
                </label>
                <label>
                    Freq
                    <input class="freq-fader" type="range" min="40" max="1000" step="0.1" value="200" disabled>
                    <span>200 Hz</span>
                </label>
                <label>Transpose
                    <input class="transpose-fader" type="range" min="-12" max="12" step="1" value="0" disabled>
                    <span>0</span>
                </label>
            </article>

            <article id="osc3">
                <h2>OSC III</h2>
                <label>Wave:
                    <select class="osc-wave">
                        <option value="sine">sine</option>
                        <option value="triangle">triangle</option>
                        <option value="square">square</option>
                        <option value="sawtooth">sawtooth</option>
                    </select>  
                </label>
                <label>
                    Gain
                    <input class="gain-fader" type="range" min="0" max="0.5" step="0.01" value="0" disabled>
                    <span>0.00</span>
                </label>
                <label>
                    Freq
                    <input class="freq-fader" type="range" min="40" max="1000" step="0.1" value="200" disabled>
                    <span>200 Hz</span>
                </label>
                <label>Detune
                    <input class="detune-fader" type="range" value="0" min="-100" max="100" disabled>
                    <span>0</span>
                </label>
            </article>

        </section>

        <section id="presets">
            <article>
                <button id="save-preset">Save preset</button>
                <label>Name:
                    <input type="text" name="preset-name" id="preset-name">
                </label>
                <p id="audio-params"></p>
                <a id="download-preset" href="" class="hidden">Click to download!</a>
            </article>

            <article id="load-preset">
                <label><button id="load-preset-btn">Upload preset</button>
                    <input type="file" id="preset-file" name="preset-file" accept=".json">
                </label>
                <p>Open or drag .json file</p>
                <p id="preset"></p>
            </article>
        </section>
        <section>
            <article id="midi">
                <h3>MIDI Config</h3>
                <br>
                <span id="midi-info">No device connected</span>
                <br>
                <h3>MIDI CC Mapping</h3>
                <span id="midiMapMessage"></span>
                <form id="midiMapConfig">
                    <label>Midi destination
                        <select name="midiDestination" id="midiDestination" required>
                            <option value="Master Gain">Master Gain</option>                       
                            <option value="Delay Time">Delay Time</option>
                            <option value="Delay Feedback">Delay Feedback</option>
                            <option value="Filter Cut">Filter Cut</option>
                            <option value="Filter Res">Filter Res</option>
                            <option value="LFO Rate">LFO Rate</option>
                            <option value="LFO Amount">LFO Amount</option>
                            <option value="OSC I Gain">OSC I Gain</option>
                            <option value="OSC I Freq">OSC I Freq</option>
                            <option value="OSC II Gain">OSC II Gain</option>
                            <option value="OSC II Freq">OSC II Freq</option>
                            <option value="OSC III Gain">OSC III Gain</option>
                            <option value="OSC III Freq">OSC III Freq</option>
                        </select>
                    </label>    
                    <label>Midi CC (move your controller's knob/fader)
                       <input type="text" name="midiCC" id="midiCC" required>
                    </label>
                        <input type="submit" value="Assign">
                    </label>
                </form>

                <p id="midiWarning" hidden></p>
                <button id="clearCC" hidden>Clear</button>

                <button id="clearAllMidi">
                    Clear All MIDI config
                </button>
                <button id="confirm" hidden>Confirm</button>
                <button id="cancel" hidden>Cancel</button>
            </article>
        </section>

    </main>   


    <footer>
        <a href="https://github.com/JusRecondo/wsynth2.0" target="_blank">GitHub</a>
    </footer>
    <script src="js/synth.js"></script>
    <script src="js/midi.js"></script>
</body>
</html>